---
title:  "Switfï¼ˆä¸€ï¼‰åŸºç¡€éƒ¨åˆ†"
date:   2016-02-26 15:00:23
categories: 
- iOS
tags: 
- Swift
---
## å¸¸é‡å’Œå˜é‡

å¸¸é‡ç”¨letæ¥å£°æ˜ï¼Œå˜é‡ç”¨varæ¥å£°æ˜

```swift
let maximumNumberOfLoginAttempts = 10
var currentLoginAttempt = 0
```

å¯ä»¥åœ¨ä¸€è¡Œä¸­å£°æ˜å¤šä¸ªå¸¸é‡æˆ–è€…å¤šä¸ªå˜é‡ï¼Œç”¨é€—å·éš”å¼€

```swift
var x = 0.0, y = 0.0, z = 0.0
```

> å¦‚æœä½ çš„ä»£ç ä¸­æœ‰ä¸éœ€è¦æ”¹å˜çš„å€¼ï¼Œè¯·ä½¿ç”¨`let`å…³é”®å­—å°†å®ƒå£°æ˜ä¸ºå¸¸é‡ã€‚åªå°†éœ€è¦æ”¹å˜çš„å€¼å£°æ˜ä¸ºå˜é‡ã€‚

## ç±»å‹æ ‡æ³¨

å£°æ˜å¸¸é‡æˆ–è€…å˜é‡çš„æ—¶å€™å¯ä»¥åŠ ä¸Šç±»å‹æ ‡æ³¨ï¼Œè¯´æ˜å¸¸é‡æˆ–è€…å˜é‡ä¸­è¦å‚¨å­˜çš„å€¼çš„ç±»å‹ã€‚

```swift
var welcomeMessage: String // Stringæ˜¯ç±»å‹åç§°
```

`welcomeMessage`å˜é‡ç°åœ¨å¯ä»¥è¢«è®¾ç½®æˆä»»æ„å­—ç¬¦ä¸²

```swift
welcomeMessage = "Hello"
```

åŒç†ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸€è¡Œä¸­å®šä¹‰å¤šä¸ªåŒæ ·ç±»å‹çš„å˜é‡ï¼Œç”¨é€—å·åˆ†å‰²ï¼Œç—…åœ¨æœ€åä¸€ä¸ªå˜é‡åä¹‹åæ·»åŠ ç±»å‹æ ‡æ³¨

```swift
var red, green, blue: Double
```

> ä¸€èˆ¬æˆ‘ä»¬å¾ˆå°‘ç»™å¸¸é‡æˆ–è€…å˜é‡åŠ ç±»å‹æ ‡æ³¨ã€‚Swiftä¼šæ ¹æ®åœ¨åˆå§‹å€¼æ¨æ–­å˜é‡æˆ–è€…å¸¸é‡çš„ç±»å‹ã€‚

## å¸¸é‡å’Œå˜é‡çš„å‘½å

å¯ä»¥ä½¿ç”¨ä»»ä½•å­—ç¬¦ä½œä¸ºå¸¸é‡å’Œå˜é‡å

```swift
let Ï€ = 3.14159
let ä½ å¥½ = "ä½ å¥½ä¸–ç•Œ"
let ğŸ¶ğŸ® = "dogcow"
```

å‘½åä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œä¸”ä¸èƒ½åŒ…å«æ•°å­¦ç¬¦å·ï¼Œç®­å¤´ï¼Œä¿ç•™çš„Unicodeç ä½ï¼Œè¿çº¿ä¸åˆ¶è¡¨ç¬¦ã€‚

> å¦‚æœè¦ä»¥ä¸Swiftä¿ç•™å…³é”®å­—ç›¸åŒçš„åç§°å‘½åï¼Œå¯ä»¥ä½¿ç”¨åå¼•å·(`)å°†å…³é”®å­—åŒ…å›´çš„æ–¹å¼ã€‚é™¤éåˆ«æ— é€‰æ‹©ï¼Œå¦åˆ™ä¸åº”è¯¥ä»¥ç³»ç»Ÿä¿ç•™å…³é”®å­—å‘½åã€‚

## è¾“å‡ºå¸¸é‡å’Œå˜é‡

å¯ä»¥ä½¿ç”¨`print()`æ¥è¾“å‡º

```swift
print(welcomeMessage)
```

ä¹Ÿå¯ä»¥æŠŠ`welcomeMessage`çš„å€¼è¾“å‡º

```swift
print("welcomeMessage = \(welcomeMessage)")
```

åœ¨è¿™é‡Œæä¸€ä¸ªä¸æ–¹ä¾¿çš„åœ°æ–¹ï¼Œå°±æ˜¯å½“åœ¨`print()`ä¸­ä½¿ç”¨å˜é‡å€¼çš„æ—¶å€™ï¼Œä»£ç ä¸èƒ½è‡ªåŠ¨è¡¥å…¨ã€‚

## åˆ†å·

Swiftä¸å¼ºåˆ¶ä½¿ç”¨åˆ†å·ç»“å°¾ï¼Œä½¿ç”¨åˆ†å·å¯ä»¥ï¼Œä¸ä½¿ç”¨ä¹Ÿå¯ä»¥ï¼Œè§†ä¸ªäººä¹ æƒ¯è€Œå®šã€‚æœ‰ä¸€ç§æƒ…å†µä¾‹å¤–ï¼Œå°±æ˜¯å½“ä¸€è¡Œä¸­æœ‰å¤šä¸ªç‹¬ç«‹è¯­å¥çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ†å·éš”å¼€

```swift
let cat = "cat";print(cat)
```

## æ•´æ•°

Swiftæä¾›äº†å¾ˆå¤šèŒƒå›´ä¸åŒçš„æ•´æ•°ï¼Œå¦‚`Int8`ï¼Œ`Int16`ï¼Œ`Int32`ï¼Œ`Int64`ç­‰ã€‚å¦‚æœåœ¨æ•´æ•°ç±»å‹å‰é¢åŠ `U`ï¼Œæ„å‘³è¿™æ­¤æ•´æ•°ç±»å‹ä¸ºæ— ç¬¦å·æ•´å‹ï¼Œå¦‚`UInt8`ã€‚

Swiftä¸­æä¾›äº†è·å–æ•´æ•°æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å‡½æ•°

```swift
let minValue = UInt8.min
ket maxValue = Uint8.max
```

> ä¸€èˆ¬æ¥è¯´ï¼Œä¸éœ€è¦ä¸“é—¨æŒ‡å®šæ•´æ•°çš„é•¿åº¦ã€‚Swiftæä¾›äº†ä¸¤ä¸ªç‰¹æ®Šçš„æ•´æ•°ç±»å‹`Int`ã€`UInt`ï¼Œé•¿åº¦ä¸å½“å‰å¹³å°çš„åŸç”Ÿå­—é•¿ç›¸åŒã€‚ä¸ºäº†ä»£ç çš„å¯è¯»æ€§å’Œå¯é‡å¤æ€§è€ƒè™‘ï¼Œç»Ÿä¸€ä½¿ç”¨`Int`è¾ƒå¥½ã€‚

## æµ®ç‚¹æ•°

Swiftæä¾›äº†ä¸¤ä¸ªæœ‰ç¬¦å·çš„æµ®ç‚¹æ•°ç±»å‹

 - `Double`è¡¨ç¤º64ä½æµ®ç‚¹æ•°ã€‚
 - `Float`è¡¨ç¤º32ä½æµ®ç‚¹æ•°ã€‚

> `Double`ç²¾åº¦å¾ˆé«˜ï¼Œå¯ä»¥ç²¾ç¡®åˆ°å°æ•°ç‚¹å15ä½æ•°å­—ã€‚`Float`åªæœ‰6ä½æ•°å­—ã€‚

## ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­

Swiftæ˜¯ä¸€ä¸ª*ç±»å‹å®‰å…¨çš„è¯­è¨€*ã€‚ç±»å‹å®‰å…¨çš„è¯­è¨€å¯ä»¥è®©ä½ æ¸…æ¥šåœ°çŸ¥é“ä»£ç è¦å¤„ç†çš„å€¼çš„ç±»å‹ã€‚
ç”±äºSwiftæ˜¯ç±»å‹å®‰å…¨çš„ï¼Œæ‰€ä»¥å®ƒä¼šåœ¨ç¼–è¯‘ä½ çš„ä»£ç æ—¶è¿›è¡Œ*ç±»å‹æ£€æŸ¥*ï¼Œå¹¶æŠŠä¸åŒ¹é…çš„ç±»å‹æ ‡è®°ä¸ºé”™è¯¯ã€‚
å½“è¦å¤„ç†ä¸åŒç±»å‹çš„å€¼æ—¶ï¼Œç±»å‹æ£€æŸ¥å¯ä»¥å¸®åŠ©é¿å…é”™è¯¯ã€‚ç„¶è€Œï¼Œå¹¶ä¸æ˜¯è¯´æ¯æ¬¡å£°æ˜å¸¸é‡å’Œå˜é‡çš„æ—¶å€™éƒ½éœ€è¦æ˜¾å¼æŒ‡å®šç±»å‹ã€‚å¦‚æœæ²¡æœ‰æ˜¾å¼æŒ‡å®šç±»å‹ï¼ŒSwiftä¼šä½¿ç”¨*ç±»å‹æ¨æ–­*æ¥é€‰æ‹©åˆé€‚çš„ç±»å‹ã€‚æœ‰äº†ç±»å‹æ¨æ–­ï¼Œç¼–è¯‘å™¨å¯ä»¥åœ¨ç¼–è¯‘ä»£ç çš„æ—¶å€™è‡ªåŠ¨æ¨æ–­å‡ºè¡¨è¾¾å¼çš„ç±»å‹ã€‚åŸç†å¾ˆç®€å•ï¼Œåªè¦æ£€æŸ¥èµ‹çš„å€¼å³å¯ã€‚
å£°æ˜å¸¸é‡æˆ–è€…å˜é‡å¹¶èµ‹åˆå€¼çš„æ—¶å€™ç±»å‹æ¨æ–­éå¸¸æœ‰ç”¨ã€‚å½“åœ¨å£°æ˜å¸¸é‡æˆ–è€…å˜é‡çš„æ—¶å€™èµ‹ç»™å®ƒä»¬ä¸€ä¸ªå­—é¢é‡ï¼Œå³å¯å‡ºå‘ç±»å‹æ¨æ–­ã€‚

```swift
let meaningOfLife = 42 // meaningOfLife ä¼šè¢«æ¨æ–­ä¸ºIntç±»å‹
let pi = 3.14159 // pi ä¼šè¢«æ¨æµ‹ä¸ºDoubleç±»å‹
let anotherPi = 3 + 0.14159 // anotherPi ä¼šè¢«æ¨æµ‹ä¸ºDoubleç±»å‹
```

åŸå§‹å€¼`3`æ²¡æœ‰æ˜¾å¼å£°æ˜ç±»å‹ï¼Œè€Œè¡¨è¾¾å¼ä¸­å‡ºç°äº†ä¸€ä¸ªæµ®ç‚¹å­—é¢é‡ï¼Œæ‰€ä»¥è¡¨è¾¾å¼ä¼šè¢«æ¨æ–­ä¸º`Double`ç±»å‹ã€‚

## æ•°å€¼å‹å­—é¢é‡

æ•´æ•°å­—é¢é‡å¯ä»¥è¢«å†™ä½œ

 - ä¸€ä¸ª*åè¿›åˆ¶æ•°*ï¼Œæ²¡æœ‰å‰ç¼€
 - ä¸€ä¸ª*äºŒè¿›åˆ¶æ•°*ï¼Œå‰ç¼€æ˜¯`0b`
 - ä¸€ä¸ª*å…«è¿›åˆ¶æ•°*ï¼Œå‰ç¼€æ˜¯`0o`
 - ä¸€ä¸ª*åå…­è¿›åˆ¶æ•°*ï¼Œå‰ç¼€æ˜¯`0x`

ä¸‹é¢çš„æ‰€æœ‰æ•´æ•°å­—é¢é‡çš„åè¿›åˆ¶å€¼éƒ½æ˜¯`17`

```swift
let decimalInteger = 17
let binaryInteger = 0b1001 // äºŒè¿›åˆ¶
let octalInteger = 0o21 // å…«è¿›åˆ¶
let hexadecimalInteger = 0x11 // åå…­è¿›åˆ¶
```

æµ®ç‚¹å­—é¢é‡å¯ä»¥æ˜¯åè¿›åˆ¶ï¼ˆæ²¡æœ‰å‰ç¼€ï¼‰æˆ–è€…æ˜¯åå…­è¿›åˆ¶ï¼ˆå‰ç¼€æ˜¯`0x`ï¼‰ã€‚å°æ•°ç‚¹ä¸¤è¾¹å¿…é¡»æœ‰è‡³å°‘ä¸€ä¸ªåè¿›åˆ¶æ•°å­—ï¼ˆæˆ–è€…æ˜¯åå…­è¿›åˆ¶çš„æ•°å­—ï¼‰ã€‚åè¿›åˆ¶æµ®ç‚¹æ•°ä¹Ÿå¯ä»¥æœ‰ä¸€ä¸ªå¯é€‰çš„æŒ‡æ•°ï¼ˆexponent)ï¼Œé€šè¿‡å¤§å†™æˆ–è€…å°å†™çš„`e`æ¥æŒ‡å®šï¼›åå…­è¿›åˆ¶æµ®ç‚¹æ•°å¿…é¡»æœ‰ä¸€ä¸ªæŒ‡æ•°ï¼Œé€šè¿‡å¤§å†™æˆ–è€…å°å†™çš„`p`æ¥æŒ‡å®šã€‚

å¦‚æœä¸€ä¸ªåè¿›åˆ¶æ•°çš„æŒ‡æ•°ä¸º`exp`ï¼Œé‚£è¿™ä¸ªæ•°ç›¸å½“äºåŸºæ•°å’Œ10^expçš„ä¹˜ç§¯ï¼š

- `1.25e2` è¡¨ç¤º 1.25 Ã— 10^2ï¼Œç­‰äº 125.0ã€‚
- `1.25e-2` è¡¨ç¤º 1.25 Ã— 10^-2ï¼Œç­‰äº 0.0125ã€‚

å¦‚æœä¸€ä¸ªåå…­è¿›åˆ¶æ•°çš„æŒ‡æ•°ä¸º`exp`ï¼Œé‚£è¿™ä¸ªæ•°ç›¸å½“äºåŸºæ•°å’Œ2^expçš„ä¹˜ç§¯ï¼š

- `0xFp2` è¡¨ç¤º 15 Ã— 2^2ï¼Œç­‰äº 60.0ã€‚
- `0xFp-2` è¡¨ç¤º 15 Ã— 2^-2ï¼Œç­‰äº 3.75ã€‚

ä¸‹é¢çš„æ‰€æœ‰æµ®ç‚¹å­—é¢é‡éƒ½ç­‰äºåè¿›åˆ¶çš„`12.1875`

```swift
let decimalDouble = 12.1875
let exponentDouble = 1.21875e1
let hexadecimalDouble = 0xC.3p0
```

æ•°å€¼ç±»å­—é¢é‡å¯ä»¥åŒ…æ‹¬é¢å¤–çš„æ ¼å¼æ¥å¢å¼ºå¯è¯»æ€§ã€‚

```swift
let paddedDboule = 000123.456
let oneMillion = 1_000_000
let justOverOneMillion = 1_000_000.000_000_1
```

## æ•´æ•°è½¬æ¢

è¦å°†ä¸€ç§æ•°å­—ç±»å‹è½¬æ¢æˆå¦ä¸€ç§ï¼Œä½ è¦ç”¨å½“å‰å€¼æ¥åˆå§‹åŒ–ä¸€ä¸ªæœŸæœ›ç±»å‹çš„æ–°æ•°å­—ï¼Œè¿™ä¸ªæ•°å­—çš„ç±»å‹å°±æ˜¯ä½ çš„ç›®æ ‡ç±»å‹ã€‚

```swift
let twoThousand: UInt16 = 2_000
let one: UInt8 = 1
let twoThousandAndOne = twoThousand + UInt16(one)
```

ç°åœ¨ä¸¤ä¸ªç±»å‹éƒ½ä¸º`UInt16`ï¼Œå¯ä»¥è¿›è¡Œç›¸åŠ ã€‚ç›®æ ‡å¸¸é‡`twoThousandAndOne`çš„ç±»å‹è¢«æ¨æ–­ä¸º`UInt16`ã€‚

`SomeType(ofInitialValue)`æ˜¯è°ƒç”¨Swiftæ„é€ å™¨å¹¶ä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼çš„é»˜è®¤æ–¹æ³•ã€‚

## æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢

æ•´æ•°å’Œæµ®ç‚¹æ•°çš„è½¬æ¢å¿…é¡»æ˜¾å¼æŒ‡å®šç±»å‹

```swift
let three = 3
let pointOneFourOneFiveNine = 0.14159
let newPi = Double(three) + pointOneFourOneFiveNine // newPi ç­‰äº 3.14159ï¼Œæ‰€ä»¥è¢«æ¨æµ‹ä¸º Double ç±»å‹
```

æµ®ç‚¹æ•°åˆ°æ•´æ•°çš„åå‘è½¬æ¢åŒæ ·è¡Œï¼Œæ•´æ•°ç±»å‹å¯ä»¥ç”¨`Double`æˆ–è€…`Float`ç±»å‹æ¥åˆå§‹åŒ–

```swift
let integerPi = Int(newPi) // integerPi ç­‰äº3ï¼Œæ‰€ä»¥è¢«æ¨æµ‹ä¸º Int ç±»å‹
```

> å­—é¢é‡`3`å¯ä»¥ç›´æ¥å’Œå­—é¢é‡`0.14159`ç›¸åŠ ï¼Œå› ä¸ºæ•°å­—å­—é¢é‡æœ¬èº«æ²¡æœ‰æ˜ç¡®çš„ç±»å‹ã€‚

## ç±»å‹åˆ«å

ç±»å‹åˆ«åå°±æ˜¯ç»™ç°æœ‰ç±»å‹å®šä¹‰å¦ä¸€ä¸ªåå­—ã€‚å¯ä»¥ä½¿ç”¨`typealias`å…³é”®å­—æ¥å®šä¹‰ç±»å‹åˆ«åã€‚

```swift
typealias AudioSample = UInt16
```

å®šä¹‰äº†ä¸€ä¸ªç±»å‹åˆ«åä¹‹åï¼Œä½ å¯ä»¥åœ¨ä»»ä½•ä½¿ç”¨åŸå§‹åçš„åœ°æ–¹ä½¿ç”¨åˆ«å

```swift
var maxAmplitudeFound = AudioSample.min // AudioSample.min ç­‰åŒäº UInt16.min
```

## å¸ƒå°”å€¼

Swiftæœ‰ä¸€ä¸ªåŸºæœ¬å¸ƒå°”ç±»å‹ï¼Œäº¤é”™`Bool`ã€‚å¸ƒå°”å€¼åªèƒ½æ˜¯çœŸæˆ–å‡ï¼ˆ`true`å’Œ`false`ï¼‰

```swift
let orangesAreOrange = true
let turnipsAreDelicious = false
```

`orangesAreOrange`å’Œ`turnipsAreDelicious`çš„ç±»å‹ä¼šè¢«æ¨æ–­ä¸ºBoolã€‚

å½“ä¾¿æºæ¡ä»¶è¯­å¥ï¼Œæ¯”å¦‚`if`è¯­å¥çš„æ—¶å€™ï¼Œå¸ƒå°”å€¼å¾ˆæœ‰ç”¨

```swift
if turnipsAreDelicious {
    print("Mmm, tasty turnips!")
} else {
    print("Eww, turnips are horrible.")
}
```

å¦‚æœåœ¨éœ€è¦ä½¿ç”¨`Bool`ç±»å‹çš„åœ°æ–¹ä½¿ç”¨äº†éå¸ƒå°”å€¼ï¼ŒSwiftå°±ä¼šæŠ¥é”™

```swift
let i = 1
if i {
    // è¿™ä¸ªä¾‹å­ä¸ä¼šé€šè¿‡ç¼–è¯‘ï¼Œä¼šæŠ¥é”™
}
```

ç„¶è€Œä¸‹é¢è¿™ä¸ªè¯­å¥æ˜¯åˆæ³•çš„

```swift
if i == 1 {
    //è¿™ä¸ªä¾‹å­ä¼šç¼–è¯‘æˆåŠŸ
}
```

`i == 1`çš„è¿”å›ç±»å‹ä¸ºå¸ƒå°”å€¼ï¼Œæ‰€ä»¥ç¼–è¯‘èƒ½æˆåŠŸã€‚

## å…ƒç»„

*å…ƒç»„*æŠŠå¤šä¸ªå€¼åˆæˆä¸€ä¸ªå¤åˆå€¼ã€‚å…ƒç»„å†…å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå¹¶ä¸”å¯ä»¥ä¸åŒã€‚

```swift
let http404Error = (404, "Not Found") // http404Error çš„ç±»å‹æ˜¯ (Int, String)ï¼Œå€¼æ˜¯ (404, "Not Found")
```

`(404, "Not Fount")`æŠŠä¸€ä¸ª`Int`å€¼å’Œä¸€ä¸ª`String`å€¼ç»„åˆèµ·æ¥è¡¨ç¤ºHTTPçŠ¶æ€ç çš„ä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€ä¸ªæ•°å­—å’Œä¸€ä¸ªå¯è¯»çš„æè¿°ã€‚

å¯ä»¥æŠŠä¸€ä¸ªå…ƒç»„çš„å†…å®¹åˆ†è§£æˆå•ç‹¬çš„å¸¸é‡å’Œå˜é‡

```swift
let (statusCode, statusMessage) = http404Error // åˆ†è§£å…ƒç»„
print("The status code is \(statusCode)")
print("The status message is \(statusMessage)")
``` 

å¦‚æœåªéœ€è¦ä¸€éƒ¨åˆ†å…ƒç»„å€¼ï¼Œåˆ†è§£çš„æ—¶å€™å¯ä»¥æŠŠè¦å¿½ç•¥çš„éƒ¨åˆ†ç”¨ä¸‹åˆ’çº¿(`_`)æ ‡è®°

```swift
print("The status code is \(statusCode)")
print("The status message is \(statusMessage)")
```

è¿˜å¯ä»¥é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®å…ƒç»„ä¸­çš„å…ƒç´ 

```swift
printprint("The status code is \(http404Error.0)")
print("The status message is \(http404Error.1)")
```

å¯ä»¥åœ¨å®šä¹‰å…ƒç»„çš„æ—¶å€™ç»™å…ƒç´ å‘½åï¼Œä¹‹åå¯ä»¥é€šè¿‡åå­—æ¥è·å–å…ƒç´ 

```swift
let http200Status = (statusCode: 200, description: "OK")
print("The status code is \(http200Status.statusCode)")
print("The status message is \(http200Status.description)")
```

ä½œä¸ºå‡½æ•°è¿”å›å€¼æ—¶ï¼Œå…ƒç»„å¾ˆæœ‰ç”¨ã€‚

> å…ƒç»„åœ¨ä¸´æ—¶ç»„ç»‡å€¼çš„æ—¶å€™å¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯ä¸å¤ªé€‚åˆåˆ›å»ºå¤æ‚çš„æ•°æ®ç»“æ„ã€‚

## å¯é€‰ç±»å‹

ä½¿ç”¨*å¯é€‰ç±»å‹*æ¥å¤„ç†å€¼å¯èƒ½ç¼ºå¤±çš„æƒ…å†µã€‚å¯é€‰ç±»å‹æœ‰ä¸¤ç§æƒ…å†µ

- æœ‰å€¼ï¼Œç­‰äºæŸä¸ªå€¼
- æ— å€¼ï¼Œç­‰äºnil

Swiftæœ‰ä¸€ç§æ„é€ å™¨ï¼Œå¤šç”¨æ˜¯å°†ä¸€ä¸ª`String`å€¼è½¬æ¢ä¸ºä¸€ä¸ª`Int`å€¼ã€‚å¹¶ä¸æ˜¯æ‰€æœ‰å­—ç¬¦ä¸²éƒ½å¯ä»¥è½¬æ¢ä¸ºæ•´æ•°ã€‚å­—ç¬¦ä¸²`"123"`å¯ä»¥è¢«è½¬æ¢ä¸ºæ•´æ•°`123`ï¼Œ`"zero"`ä¸è¡Œã€‚

```swift
let possibleNumber = "123"
let convertedNumber = Int(possibleNumber) // convertedNumber è¢«æ¨æµ‹ä¸ºç±»å‹"Int?"ï¼Œæˆ–è€…ç±»å‹"optional Int"
```

å› ä¸ºè¯¥æ„é€ å™¨å¯èƒ½ä¼šå¤±è´¥ï¼Œæ‰€ä»¥å®ƒè¿”å›ä¸€ä¸ª*å¯é€‰ç±»å‹*`Int`ï¼Œè€Œä¸æ˜¯`Int`

`nil`ç±»å‹åªèƒ½ç”¨äºç»™`type?`ç±»å‹çš„å¸¸é‡æˆ–è€…å˜é‡èµ‹å€¼

```swift
var serverResponseCode: Int? = 404
serverResponseCode = nil
```

å¦‚æœå£°æ˜äº†ä¸€ä¸ªå¯é€‰å¸¸é‡æˆ–è€…å˜é‡ä½†æ˜¯æ²¡æœ‰èµ‹å€¼ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨è¢«è®¾ç½®ä¸º`nil`

```swift
var survetAnswer: String?// surveyAnswer è¢«è‡ªåŠ¨è®¾ç½®ä¸º nil
```

> åœ¨OCä¸­ï¼Œ`nil`æ˜¯ä¸€ä¸ªæŒ‡å‘ä¸å­˜åœ¨å¯¹è±¡çš„æŒ‡é’ˆã€‚åœ¨Swiftä¸­ï¼Œ`nil`ä¸æ˜¯æŒ‡é’ˆï¼Œå®ƒæ˜¯ä¸€ä¸ªç¡®å®šçš„å€¼ï¼Œç”¨æ¥è¡¨ç¤ºå€¼ç¼ºå¤±ã€‚ä»»ä½•ç±»å‹çš„å¯é€‰çŠ¶æ€éƒ½å¯ä»¥è¢«è®¾ç½®ä¸º`nil`ï¼Œä¸åªæ˜¯å¯¹è±¡ç±»å‹ã€‚

## ifè¯­å¥ä»¥åŠå¼ºè¡Œè§£æ

ä½ å¯ä»¥ä½¿ç”¨`if`è¯­å¥å’Œ`nil`è¯­å¥æ¥åˆ¤æ–­ä¸€ä¸ªå¯é€‰å€¼æ˜¯å¦åŒ…å«å€¼ã€‚

```swift
if convertedNumber != nil {
    print("convertedNumber contains some integer value.")
}
```

å½“ç¡®å®šå¯é€‰ç±»å‹ç¡®å®åŒ…å«å€¼ä¹‹åï¼Œå¯ä»¥åœ¨å¯é€‰çš„åå­—åé¢åŠ ä¸€ä¸ªæ„Ÿå¹å·(`!`)æ¥è·å–å€¼ã€‚æ„Ÿå¹å·ä»£è¡¨â€æˆ‘çŸ¥é“è¿™ä¸ªå¯é€‰ç±»å‹çš„å€¼æœ‰å€¼ï¼Œè¯·ä½¿ç”¨å®ƒâ€œï¼Œè¿™è¢«ç§°ä¸ºå¯é€‰å€¼çš„*å¼ºåˆ¶è§£æ*

```swift
if convertedNumber != nil {
    print("convertedNumber has an integer value of \(convertedNumber!).")
}
```

## å¯é€‰ç»‘å®š

ä½¿ç”¨*å¯é€‰ç»‘å®š*æ¥åˆ¤æ–­å¯é€‰ç±»å‹æ˜¯å¦åŒ…å«å€¼ï¼Œå¦‚æœåŒ…å«å°±æŠŠå€¼èµ‹ç»™ä¸€ä¸ªä¸´æ—¶å¸¸é‡æˆ–è€…å˜é‡ã€‚

```swift
if let actualNumber = Int(possibleNumber) {
    print("\'\(possibleNumber)\' has an integer value of \(actualNumber)")
} else {
    print("\'\(possibleNumber)\' could not be converted to an integer")
}
```

å¯ä»¥åŒ…å«å¤šä¸ªå¯é€‰ç»‘å®šåœ¨`if`è¯­å¥ä¸­ï¼Œå¹¶ä½¿ç”¨`where`å­å¥åšå¸ƒå°”å€¼åˆ¤æ–­ã€‚

```swift
if let firstNumber = Int("4"), secondNumber = Int("42") where firstNumber < secondNumber {
    print("\(firstNumber) < \(secondNumber)")
}
```

## éšå½¢å¯é€‰ç±»å‹

æœ‰æ—¶å€™åœ¨ç¨‹åºæ¶æ„ä¸­ï¼Œç¬¬ä¸€æ¬¡è¢«èµ‹å€¼ä¹‹åï¼Œå¯ä»¥ç¡®å®šä¸€ä¸ªå¯é€‰ç±»å‹_æ€»ä¼š_æœ‰å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯æ¬¡éƒ½è¦åˆ¤æ–­å’Œè§£æå¯é€‰å€¼æ˜¯éå¸¸ä½æ•ˆçš„ï¼Œå› ä¸ºå¯ä»¥ç¡®å®šå®ƒæ€»ä¼šæœ‰å€¼ã€‚

è¿™ç§ç±»å‹çš„å¯é€‰çŠ¶æ€è¢«å®šä¹‰ä¸ºéšå¼è§£æå¯é€‰ç±»å‹ã€‚æŠŠæƒ³è¦ç”¨ä½œå¯é€‰çš„ç±»å‹çš„åé¢çš„é—®å·(`String?`)æ”¹æˆæ„Ÿå¹å·(`String!`)æ¥å£°æ˜ä¸€ä¸ªéšå¼è§£æå¯é€‰ç±»å‹ã€‚

ä¸€ä¸ªéšå¼è§£æå¯é€‰ç±»å‹å…¶å®å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯é€‰ç±»å‹ï¼Œä½†æ˜¯å¯ä»¥è¢«å½“ä½œéå¯é€‰ç±»å‹æ¥ä½¿ç”¨ï¼Œå¹¶ä¸éœ€è¦æ¯æ¬¡éƒ½ä½¿ç”¨è§£ææ¥è·å–å¯é€‰å€¼ã€‚

```swift
let possibleString: String? = "An optional string."
let forcedString: String = possibleString! // éœ€è¦æƒŠå¹å·æ¥è·å–å€¼

let assumedString: String! = "An implicitly unwrapped optional string."
let implicitString: String = assumedString  // ä¸éœ€è¦æ„Ÿå¹å·
```

å¯ä»¥æŠŠéšå¼è§£æå¯é€‰ç±»å‹å½“åšä¸€ä¸ªå¯ä»¥è‡ªåŠ¨è§£æçš„å¯é€‰ç±»å‹ã€‚ä½ è¦åšçš„åªæ˜¯å£°æ˜çš„æ—¶å€™æŠŠæ„Ÿå¹å·æ”¾åˆ°ç±»å‹çš„ç»“å°¾ï¼Œè€Œä¸æ˜¯æ¯æ¬¡å–å€¼çš„å¯é€‰åå­—çš„ç»“å°¾ã€‚

> å¦‚æœåœ¨éšå¼å¯é€‰ç±»å‹æ²¡æœ‰å€¼çš„æ—¶å€™å°è¯•å–å€¼ï¼Œä¼šè§¦å‘è¿è¡Œé”™è¯¯ã€‚

å¯ä»¥æŠŠéšå¼è§£æå¯é€‰ç±»å‹å½“ä½œæ™®é€šå¯é€‰ç±»å‹æ¥åˆ¤æ–­å®ƒæ˜¯å¦åŒ…å«å€¼ï¼Œä¹Ÿå¯ä»¥åœ¨å¯é€‰ç»‘å®šä¸­ä½¿ç”¨å®ƒæ¥æ£€æŸ¥å¹¶è§£æå®ƒçš„å€¼ã€‚

```swift
if assumedString != nil {
    print(assumedString)
}

if let definiteString = assumedString {
    print(definiteString)
}
```

> å¦‚æœä¸€ä¸ªå˜é‡ä¹‹åå¯èƒ½å˜æˆ`nil`çš„è¯è¯·ä¸è¦ä½¿ç”¨éšå¼è§£æå¯é€‰ç±»å‹ã€‚

## é”™è¯¯å¤„ç†

å¯ä»¥ä½¿ç”¨*é”™è¯¯å¤„ç†*æ¥åº”å¯¹ç¨‹åºæ‰§è¡Œä¸­å¯èƒ½ä¼šé‡åˆ°çš„é”™è¯¯æ¡ä»¶ã€‚

ä¸€ä¸ªå‡½æ•°å¯ä»¥é€šè¿‡åœ¨å£°æ˜ä¸­æ·»åŠ `throws`å…³é”®è¯æ¥æŠ›å‡ºé”™è¯¯æ¶ˆæ¯ã€‚å½“æŠ›å‡ºé”™è¯¯æ¶ˆæ¯æ—¶ï¼Œåº”è¯¥åœ¨è¡¨è¾¾å¼ä¸­å‰ç½®`try`å…³é”®è¯

```swift
func canThrowAnError() throws {
    // è¿™ä¸ªå‡½æ•°å¯èƒ½æŠ›å‡ºé”™è¯¯
}

do {
    try canThrowAnError() // æ²¡æœ‰é”™è¯¯ä¿¡æ¯æŠ›å‡º
} catch {
    // æœ‰ä¸€ä¸ªé”™è¯¯ä¿¡æ¯æŠ›å‡º
}
```

ä¸€ä¸ª`do`è¯­å¥åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„åŒ…å«ä½œç”¨åŸŸï¼Œä½¿å¾—é”™è¯¯èƒ½è¢«ä¼ æ’­åˆ°ä¸€ä¸ªæˆ–è€…å¤šä¸ª`catch`ä»å¥ã€‚

## æ–­è¨€

å¯é€‰ç±»å‹å¯ä»¥åˆ¤æ–­å€¼æ˜¯å¦å­˜åœ¨ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­å¤„ç†å€¼ç¼ºå¤±çš„æƒ…å†µã€‚ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœå€¼ç¼ºå¤±æˆ–è€…å€¼å¹¶ä¸æ»¡è¶³ç‰¹å®šçš„æ¡ä»¶ï¼Œä»£ç å¯èƒ½æ²¡åŠæ³•ç»§ç»­æ‰§è¡Œã€‚è¿™æ—¶ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­è§¦å‘ä¸€ä¸ª*æ–­è¨€*æ¥ç»“æŸä»£ç è¿è¡Œå¹¶é€šè¿‡è°ƒè¯•æ¥æ‰¾åˆ°å€¼çš„ç¼ºå¤±çš„åŸå› ã€‚

æ–­è¨€ä¼šåœ¨è¿è¡Œæ—¶åˆ¤æ–­ä¸€ä¸ªé€»è¾‘æ¡ä»¶æ˜¯å¦ä¸º`true`ã€‚å¦‚æœä¸º`true`ç»§ç»­è¿›è¡Œä»£ç ï¼Œå¦‚æœä¸º`false`ï¼Œä»£ç æ‰§è¡Œç»“æŸï¼Œåº”ç”¨ç»ˆæ­¢ã€‚

ä½¿ç”¨å…¨å±€`assert(_:_file:line:)å‡½æ•°æ¥å†™ä¸€ä¸ªæ–­è¨€ã€‚

```swift
let age = -3
assert(age >= 0, "A person's age connot be less than zero") // å› ä¸º age < 0ï¼Œæ‰€ä»¥æ–­è¨€ä¼šè§¦å‘
```

å¦‚æœä¸éœ€è¦æ–­è¨€ä¿¡æ¯ï¼Œå¯ä»¥çœç•¥

```swift
assert(age >= 0)
```

> å½“ä»£ç ä½¿ç”¨ä¼˜åŒ–ç¼–è¯‘çš„æ—¶å€™ï¼Œæ–­è¨€å°†ä¼šè¢«ç¦ç”¨ï¼Œä¾‹å¦‚åœ¨ Xcode ä¸­ï¼Œä½¿ç”¨é»˜è®¤çš„ target Release é…ç½®é€‰é¡¹æ¥ build æ—¶ï¼Œæ–­è¨€ä¼šè¢«ç¦ç”¨ã€‚

---

æœ¬æ¬¡å­¦ä¹ å…¨ç¨‹å‚è€ƒ[Swiftæ•™ç¨‹](http://wiki.jikexueyuan.com/project/swift/chapter2/01_The_Basics.html)
